# songLibrary

## Требования
- Добавление новых песен в библиотеку.
- Обновление информации о существующих песнях.
- Удаление песен из библиотеки.
- Извлечение текста песен.
- Получение подробной информации о конкретных песнях.
- Извлечение полной библиотеки песен.

## Технологии
- Go
- PostgreSQL
- Chi
- Slog
- Swagger
- Docker

## Начало работы

Чтобы запустить этот проект на своем локальном компьютере, выполните следующие шаги:

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/songLibrary.git
   cd songLibrary

2. Запуск приложения:
   ```bash
   docker-compose up
   docker-compose exec db psql -U postgres
   CREATE DATABASE db;
   docker-compose up --build

## API Эндпоинты

1. **Add song**
   - **Endpoint:** `POST /songLibrary/AddSong`
   - **Тело запроса:** JSON-объект, содержащий:
     - `song`: Название песни
     - `group`: Имя артиста/музыкальной группы
   - **Ответ:** 
     - `200 OK` при успешном добавлении песни
     - `400 Bad Request`, если ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных

2. **Change info**
   - **Эндпоинт:** `POST /songLibrary/ChangeInfo?id=*`
   - **Ответ:** 
     - `200 OK` при изменении данных у песни
     - `400 Bad Request`, ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных

3. **Delete song**
   - **Эндпоинт:** `DELETE /songLibrary/DeleteSong?id=*`
   - **Ответ:** 
     - `200 OK` при удачном удалении песни
     - `400 Bad Request`, ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных

4. **Text song**
   - **Эндпоинт:** `GET /songLibrary/TextSong?id=3`
   - **Ответ:** 
     - `200 OK` при успешном получении текста
     - `400 Bad Request`, ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных
   
5. **Library(наших песен)**
   - **Эндпоинт:** `GET /songLibrary/Library`
   - **Ответ:** 
     - `200 OK` при успешном получении всех данных песен
     - `400 Bad Request`, ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных

6. **Library(наших песен)**
   - **Эндпоинт:** `GET /songLibrary/info?group=*&song=*`
   - **Ответ:** 
     - `200 OK` при получении дополнительных сведениях о песни
     - `400 Bad Request`, ошибка запроса
     - `500 Status Internal Server`, ошибка базы данных
    
7. **Library(всех песен в библиотеки)**
- **Эндпоинт:** `GET /Library`
- **Ответ:** 
  - `200 OK` при успешном получении всех данных песен
  - `400 Bad Request`, ошибка запроса
  - `500 Status Internal Server`, ошибка базы данных
 
### Дополнительня информация
- Миграции в БД происходят сразу при запуске докера, в первый раз его нужно заупустить и создать БД с именем db, после этого перезапустить докер.
- При добавлении песни мы сначала сверяемся с общей библеотекой `Library` только после этого песня добавляется в наш локальный каталог.
